{"version":3,"sources":["utils/auth.js","image/logo.svg","components/Header.js","image/Vector.svg","image/vectorAva.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","components/ImagePopup.js","components/ProtectedRoute.js","components/Login.js","components/Register.js","image/popup_error.svg","image/popup_ok.svg","components/InfoToolTip.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["BASE_URL","Header","props","className","isOpen","src","logo","alt","path","to","email","onClick","onSignOut","onButtonBurgerClick","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwner","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onCardClick","link","name","type","aria-label","onCardDelete","onCardLike","length","key","Main","onEditAvatar","icon","avatar","onEditProfile","editProfile","about","onAddPlace","cards","map","Footer","PopupWithForm","noValidate","action","method","onSubmit","title","children","buttonText","onClose","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","id","required","placeholder","minLength","maxLength","value","onChange","target","EditAvatarPopup","avatarLink","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","DeleteCardPopup","onDeleteCard","el","ImagePopup","ProtectedRoute","Component","component","loggedIn","Login","setEmail","password","setPassword","signIn","Register","registration","InfoToolTip","status","ok","error","text","api","this","_base","_token","res","json","Promise","reject","fetch","headers","authorization","then","_checkResponse","data","body","JSON","stringify","cardID","App","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeleteCardPopupOpen","setIsDeleteCardPopupOpen","selectedCard","setSelectedCard","setCards","setLoggedIn","isInfoToolTipOpen","setIsInfoToolTipOpen","textInfoToolTip","setTextInfoToolTip","statusInfoToolTip","setStatusInfoToolTip","buttonBurger","setButtonBurger","history","useHistory","closeAllPopups","handleInfoToolTipClick","localStorage","getItem","jwt","token","push","catch","err","console","log","checkLogin","getUserInfo","getInitialCards","Provider","removeItem","response","setItem","auth","newData","statusCode","exact","changeLikeCardStatus","newCard","newCards","c","editUserInfo","addNewCard","deleteCard","filter","updateAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.e2faf97f.chunk.js","sourcesContent":["export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ email, password })\r\n  })\r\n    .then((response) => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      }\r\n      else {\r\n        return Promise.reject(`Что-то пошло не так: ${response.status}`);\r\n      }\r\n    })\r\n    .then((res) => {\r\n      return res;\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\nexport const login = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ email, password })\r\n  })\r\n    .then(response => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      }\r\n      else {\r\n        return Promise.reject(`Что-то пошло не так: ${response.status}`);\r\n      }\r\n    })\r\n    .then((data) => {\r\n      if (data.token) {\r\n        localStorage.setItem('jwt', data.token);\r\n\r\n        return data;\r\n      }\r\n    })\r\n    .catch(err => console.log(err))\r\n};\r\nexport const checkToken = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`,\r\n    }\r\n  })\r\n    .then(res => res.json())\r\n    .then(data => data)\r\n}","export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","import React from 'react';\r\nimport { Link, Route, Switch } from 'react-router-dom';\r\nimport logo from '../image/logo.svg';\r\n\r\nfunction Header(props) {\r\n  return (\r\n    <header className={`header ${props.isOpen ? 'header__flex' : ''}`}>\r\n      <img src={logo} alt=\"Логотип Mesto Russia\" className=\"logo\" />\r\n      <Switch>\r\n        <Route path=\"/sign-in\">\r\n          <Link to=\"/sign-up\" className=\"header__link\">Регистрация</Link>\r\n        </Route>\r\n        <Route path=\"/sign-up\">\r\n          <Link to=\"/sign-in\" className=\"header__link\">Войти</Link>\r\n        </Route>\r\n        <Route path=\"/\">\r\n          <div className={`header__flex-container ${props.isOpen ? '' : 'header__flex-container_close'}`}>\r\n            <p className=\"header__email\">{props.email}</p>\r\n            <button className=\"header__button\" onClick={props.onSignOut}>Выйти</button>\r\n          </div>\r\n          <div className={`header__burger header__burger_show ${props.isOpen ? 'header__burger_opened' : ''}`} onClick={props.onButtonBurgerClick}></div>\r\n        </Route>\r\n      </Switch>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","export default __webpack_public_path__ + \"static/media/Vector.6c7bf054.svg\";","export default __webpack_public_path__ + \"static/media/vectorAva.a086f758.svg\";","import React from 'react';\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwner = props.card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = `card__delete ${isOwner ? \"\" : \"card__delete_hidden\"}`;\r\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = `card__like ${isLiked ? \"card__like_active\" : \"\"}`\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  return (\r\n    <li className=\"cards__item\" key={props.key}>\r\n      <article className=\"card\">\r\n        <img onClick={handleClick} src={props.card.link} className=\"card__image\" alt={props.card.name} />\r\n        <button className={cardDeleteButtonClassName} type=\"button\" aria-label=\"Кнопка удалить\"\r\n          onClick={handleDeleteClick}></button>\r\n        <div className=\"card__container\">\r\n          <h2 className=\"card__title\">{props.card.name} </h2>\r\n          <div className=\"card__likes-container\">\r\n            <button className={cardLikeButtonClassName} type=\"button\" aria-label=\"Кнопка like\" onClick={handleLikeClick} />\r\n            <p className=\"card__likes-counter\">{props.card.likes.length}</p>\r\n          </div>\r\n        </div>\r\n      </article>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport editProfile from '../image/Vector.svg';\r\nimport icon from '../image/vectorAva.svg';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction Main(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n\r\n\r\n  return (\r\n    <main className=\"main-index\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__flex-wrapper\">\r\n          <div className=\"profile__avatar-container\" onClick={props.onEditAvatar}>\r\n            <div className=\"profile__avatar-vector\">\r\n              <img src={icon} alt=\"Иконка\" />\r\n            </div>\r\n            <img src={currentUser.avatar} alt=\"Аватар пользователя\" className=\"profile__avatar\" />\r\n          </div>\r\n          <div>\r\n            <div className=\"profile__info\">\r\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n              <button className=\"profile__button-edit\" type=\"button\" aria-label=\"Редактировать профиль\" onClick={props.onEditProfile}>\r\n                <img src={editProfile} alt=\"Иконка\" className=\"profile__vector\" />\r\n              </button>\r\n            </div>\r\n            <p className=\"profile__specialization\">{currentUser.about} </p>\r\n          </div>\r\n        </div>\r\n        <button className=\"profile__button-new-card\" type=\"button\" aria-label=\"Добавить новую карточку\" onClick={props.onAddPlace} />\r\n      </section>\r\n      <section className=\"grid-container\" aria-label=\"Блок с карточками\">\r\n        <ul className=\"cards\">\r\n          {props.cards.map((card) => (\r\n            <Card key={card['_id']}\r\n              card={card}\r\n              onCardClick={props.onCardClick}\r\n              onCardLike={props.onCardLike}\r\n              onCardDelete={props.onCardDelete}\r\n            />)\r\n          )}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <div className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_show' : false}`}>\r\n      <div className={`popup__body popup__body_modal_${props.name} ${props.isOpen ? 'popup__body_slice' : false}`}>\r\n        <form className=\"popup__profile form form_closed\" noValidate action=\"http://echo.htmlacademy.ru\" method=\"post\"\r\n          name={`${props.name}-form`}\r\n          onSubmit={props.onSubmit}>\r\n          <h2 className=\"popup__title\">{props.title}</h2>\r\n          {props.children}\r\n          <button type=\"submit\" className=\"popup__button-submit\">{props.buttonText}</button>\r\n        </form>\r\n        <button onClick={props.onClose} type=\"button\" className={`popup__button-close popup__button-close_modal_${props.name}`}\r\n          aria-label=\"кнопка Закрыть\" />\r\n      </div>\r\n    </div >\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name || '');\r\n    setDescription(currentUser.about || '');\r\n  }, [currentUser]);\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    // Запрещаем браузеру переходить по адресу формы\r\n    e.preventDefault();\r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      className=\"popup popup_type_profile\"\r\n      name=\"profile\" title=\"Редактировать профиль\"\r\n      buttonText=\"Сохранить\"\r\n      onSubmit={handleSubmit}>\r\n\r\n      <ul className=\"popup__list\">\r\n        <li className=\"popup__item\">\r\n          <input className=\"popup__input popup__input_item_name\"\r\n            id=\"input_name\"\r\n            type=\"text\"\r\n            name=\"user\" required\r\n            placeholder=\"Ваше имя\" minLength=\"2\" maxLength=\"40\"\r\n            value={name} onChange={handleChangeName} />\r\n          <span className=\"popup__error\" id=\"input_name-error\"></span>\r\n        </li>\r\n        <li className=\"popup__item\">\r\n          <input className=\"popup__input popup__input_item_specialization\"\r\n            type=\"text\" name=\"specialization\"\r\n            id=\"input_pass\" required placeholder=\"Профессия\" minLength=\"2\" maxLength=\"200\"\r\n            value={description} onChange={handleChangeDescription} />\r\n          <span className=\"popup__error\" id=\"input_pass-error\"></span>\r\n        </li>\r\n      </ul>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n  const avatarLink = React.useRef();\r\n\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onUpdateAvatar({\r\n      avatar: avatarLink.current.value,\r\n    });\r\n    avatarLink.current.value = '';\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm className=\"popup popup_type_avatar\"\r\n      name=\"avatar\"\r\n      title=\"Обновить аватар\"\r\n      buttonText=\"Сохранить\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}>\r\n\r\n      <ul className=\"popup__list\">\r\n        <li className=\"popup__item\">\r\n          <input className=\"popup__input popup__input_item_path\" type=\"url\" id=\"input_avatar\" name=\"link\" required\r\n            placeholder=\"Ссылка аватара\"\r\n            ref={avatarLink} />\r\n          <span className=\"popup__error\" id=\"input_avatar-error\"></span>\r\n        </li>\r\n      </ul>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeLink(e) {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onAddPlace({\r\n      name,\r\n      link\r\n    });\r\n    setName('');\r\n    setLink('');\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm className=\"popup popup_type_new-card\"\r\n      name=\"new-card\"\r\n      title=\"Новое место\"\r\n      buttonText='Сохранить'\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}>\r\n\r\n      <ul className=\"popup__list\">\r\n        <li className=\"popup__item\">\r\n          <input className=\"popup__input popup__input_item_title\" type=\"text\" name=\"name\" id=\"input_title\" required\r\n            placeholder=\"Название\" minLength=\"2\" maxLength=\"30\"\r\n            value={name} onChange={handleChangeName} />\r\n          <span className=\"popup__error\" id=\"input_title-error\">ERROR</span>\r\n        </li>\r\n        <li className=\"popup__item\">\r\n          <input className=\"popup__input popup__input_item_path\" type=\"url\" id=\"input_link\" name=\"link\" required\r\n            placeholder=\"Ссылка на картинку\"\r\n            value={link} onChange={handleChangeLink} />\r\n          <span className=\"popup__error\" id=\"input_link-error\"></span>\r\n        </li>\r\n      </ul>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction DeleteCardPopup(props) {\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onDeleteCard(\r\n      props.card.el\r\n    )\r\n  }\r\n  return (\r\n    <PopupWithForm className=\"popup popup_type_card-delete\"\r\n      name=\"card-delete\"\r\n      title=\"Вы уверены?\"\r\n      buttonText=\"Да\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit} />\r\n  )\r\n}\r\n\r\nexport default DeleteCardPopup;","import React from 'react';\r\n\r\n\r\n\r\n\r\n\r\nfunction ImagePopup(props) {\r\n\r\n  return (\r\n    <div className={`popup popup_type_image ${props.card.isOpen ? 'popup_show' : ''}`}>\r\n      <div className={`popup__body popup__body_modal_image ${props.card.isOpen ? 'popup__body_slice' : ''}`}>\r\n        <figure className=\"popup__image\">\r\n          <img src={`${props.card.isOpen ? props.card.el.link : \"link\"}`} alt={`${props.card.isOpen ? props.card.el.name : \"\"}`} className=\"popup__card-image\" />\r\n          <figcaption className=\"popup__sign\">{`${props.card.isOpen ? props.card.el.name : \"link\"}`}</figcaption>\r\n        </figure>\r\n        <button onClick={props.onClose} type=\"button\" className=\"popup__button-close popup__button-close_modal_image\"\r\n          aria-label=\"кнопка Закрыть\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\n      }\n    </Route>\n  )\n}\n\nexport default ProtectedRoute;","import React from 'react';\r\n\r\nfunction Login(props) {\r\n\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  function handleChangeEmail(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function handleChangePassword(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.signIn({\r\n      email,\r\n      password\r\n    });\r\n    setEmail('');\r\n    setPassword('');\r\n  }\r\n\r\n  return (\r\n    <form className=\"initial-form form initial-form_type_sign-in\" noValidate action=\"http://echo.htmlacademy.ru\" method=\"post\"\r\n      name=\"sign-in-form\"\r\n      onSubmit={handleSubmit}>\r\n      <h2 className=\"initial-form__title\">Вход</h2>\r\n      <ul className=\"initial-form__list\">\r\n        <li className=\"initial-form__item\">\r\n          <input className=\"initial-form__input initial-form__input_item_email\"\r\n            id=\"input_email\"\r\n            type=\"email\"\r\n            name=\"email\" required\r\n            placeholder=\"Email\" minLength=\"6\" maxLength=\"40\"\r\n            onChange={handleChangeEmail}\r\n            value={email} />\r\n          <span className=\"initial-form__error\" id=\"input_email-error\"></span>\r\n        </li>\r\n        <li className=\"initial-form__item\">\r\n          <input className=\"initial-form__input initial-form__email_item_password\"\r\n            type=\"password\" name=\"password\"\r\n            id=\"input_password\" required placeholder=\"Пароль\" minLength=\"2\" maxLength=\"200\"\r\n            onChange={handleChangePassword}\r\n            value={password} />\r\n          <span className=\"initial-form__error\" id=\"input_password-error\"></span>\r\n        </li>\r\n      </ul>\r\n      <button type=\"submit\" className=\"initial-form__button-submit\">Войти</button>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Register(props) {\r\n\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  function handleChangeEmail(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function handleChangePassword(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.registration({\r\n      email,\r\n      password\r\n    });\r\n    setEmail('');\r\n    setPassword('');\r\n  }\r\n\r\n  return (\r\n    <form className=\"initial-form form initial-form_type_sign-in\" noValidate action=\"http://echo.htmlacademy.ru\" method=\"post\"\r\n      name=\"sign-in-form\"\r\n      onSubmit={handleSubmit}>\r\n      <h2 className=\"initial-form__title\">Регистрация</h2>\r\n      <ul className=\"initial-form__list\">\r\n        <li className=\"initial-form__item\">\r\n          <input className=\"initial-form__input initial-form__input_item_email\"\r\n            id=\"input_email\"\r\n            type=\"email\"\r\n            name=\"email\" required\r\n            placeholder=\"Email\" minLength=\"6\" maxLength=\"40\"\r\n            onChange={handleChangeEmail}\r\n            value={email} />\r\n          <span className=\"initial-form__error\" id=\"input_email-error\"></span>\r\n        </li>\r\n        <li className=\"initial-form__item\">\r\n          <input className=\"initial-form__input initial-form__email_item_password\"\r\n            type=\"password\" name=\"password\"\r\n            id=\"input_password\" required placeholder=\"Пароль\" minLength=\"2\" maxLength=\"200\"\r\n            onChange={handleChangePassword}\r\n            value={password} />\r\n          <span className=\"initial-form__error\" id=\"input_password-error\"></span>\r\n        </li>\r\n      </ul>\r\n      <button type=\"submit\" className=\"initial-form__button-submit\">Зарегистрироваться</button>\r\n      <p className=\"initial-form__text\">Уже зарегистрированы? <Link to=\"/sign-in\" className=\"initial-form__link\">Войти</Link></p>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default Register;","export default __webpack_public_path__ + \"static/media/popup_error.df8eddf6.svg\";","export default __webpack_public_path__ + \"static/media/popup_ok.1b6082f8.svg\";","import React from 'react';\r\nimport error from '../image/popup_error.svg';\r\nimport ok from '../image/popup_ok.svg';\r\n\r\nfunction InfoToolTip(props) {\r\n  return (\r\n    <div className={`popup popup_type_register ${props.isOpen ? 'popup_show' : ''}`}>\r\n      <div className={`popup__body popup__body_modal_register ${props.isOpen ? 'popup__body_slice' : ''}`}>\r\n        <div className=\"popup__container\">\r\n          <img className=\"popup__icon\" src={props.status ? ok : error} alt={`${props.status ? \"Вы зарегистрированы\" : \"Ошибка. Что-то не так\"}`} ></img>\r\n        </div>\r\n        <p className=\"popup__text\">{props.text}</p>\r\n        <button onClick={props.onClose} type=\"button\" className=\"popup__button-close popup__button-close_modal_register\"\r\n          aria-label=\"кнопка Закрыть\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InfoToolTip;","class Api {\r\n  constructor() {\r\n    this._base = 'https://mesto.nomoreparties.co/v1/cohort-19/';\r\n    this._token = '11f304a7-0c18-4e6f-ac0a-f5def34dbfe2';\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка ${res.status}`);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._base}users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  editUserInfo(data) {\r\n    return fetch(`${this._base}users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about\r\n      })\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  updateAvatar(link) {\r\n    return fetch(`${this._base}users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: link,\r\n      })\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._base}cards`, {\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  addNewCard(data) {\r\n    return fetch(`${this._base}cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link\r\n      })\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  deleteCard(cardID) {\r\n    return fetch(`${this._base}cards/${cardID}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-type': 'application/json'\r\n      }\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  putLike(cardID) {\r\n    return fetch(`${this._base}cards/likes/${cardID}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-type': 'application/json'\r\n      }\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  deleteLike(cardID, status) {\r\n    if (status) {\r\n      return fetch(`${this._base}cards/likes/${cardID}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          authorization: this._token,\r\n          'Content-type': 'application/json'\r\n        }\r\n      })\r\n        .then(this._checkResponse)\r\n    }\r\n  }\r\n\r\n  changeLikeCardStatus(cardID, status) {\r\n    if (status) {\r\n      return fetch(`${this._base}cards/likes/${cardID}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          authorization: this._token,\r\n          'Content-type': 'application/json'\r\n        }\r\n      })\r\n        .then(this._checkResponse)\r\n    }\r\n    else {\r\n      return fetch(`${this._base}cards/likes/${cardID}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          authorization: this._token,\r\n          'Content-type': 'application/json'\r\n        }\r\n      })\r\n        .then(this._checkResponse)\r\n    }\r\n  }\r\n}\r\n\r\nconst api = new Api();\r\n\r\nexport default api;","import React from 'react';\r\nimport { Route, Switch, useHistory } from 'react-router-dom';\r\nimport * as auth from '../utils/auth.js';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport DeleteCardPopup from './DeleteCardPopup';\r\nimport ImagePopup from './ImagePopup';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport InfoToolTip from './InfoToolTip';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport api from '../utils/api.js';\r\n\r\n\r\n\r\nfunction App() {\r\n\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  const [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  const [email, setEmail] = React.useState('');\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const [isInfoToolTipOpen, setIsInfoToolTipOpen] = React.useState(false);\r\n  const [textInfoToolTip, setTextInfoToolTip] = React.useState('');\r\n  const [statusInfoToolTip, setStatusInfoToolTip] = React.useState(false);\r\n  const [buttonBurger, setButtonBurger] = React.useState(false);\r\n  const history = useHistory();\r\n\r\n  //Начальная проверка пользователя\r\n  React.useEffect(() => {\r\n    checkLogin();\r\n  }, [])\r\n\r\n  //Получили данные пользователя\r\n  React.useEffect(() => {\r\n    api.getUserInfo()\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }, [])\r\n\r\n  //Получили карточки\r\n  React.useEffect(() => {\r\n    api.getInitialCards()\r\n      .then((res) => {\r\n        setCards(res);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }, [])\r\n\r\n\r\n\r\n  //Ставим/снимаем лайки\r\n  function handleCardLike(card) {\r\n    // Снова проверяем, есть ли уже лайк на этой карточке\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    // Отправляем запрос в API и получаем обновлённые данные карточки\r\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\r\n      // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\r\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n      // Обновляем стейт\r\n      setCards(newCards);\r\n    })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    console.log(card);\r\n    api.deleteCard(card._id).then((res) => {\r\n      const newCards = cards.filter((newCard) => {\r\n        return card._id !== newCard._id;\r\n      })\r\n      setCards(newCards);\r\n      closeAllPopups();\r\n    })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard({ ...selectedCard, isOpen: true, el: card });\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleDeleteCardClick(card) {\r\n    setIsDeleteCardPopupOpen(true);\r\n    setSelectedCard({ ...selectedCard, isOpen: false, el: card });\r\n  }\r\n\r\n  //Закрываем модальные окна\r\n  function closeAllPopups() {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsDeleteCardPopupOpen(false);\r\n    setIsInfoToolTipOpen(false);\r\n    setSelectedCard({ ...selectedCard, isOpen: false })\r\n  }\r\n\r\n  //Обновили данные пользователя\r\n  function handleUpdateUser(newData) {\r\n    api.editUserInfo(newData)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  //Изменили аватар\r\n  function handleUpdateAvatar(link) {\r\n    api.updateAvatar(link.avatar)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  // Добавили карточку\r\n  function handleAddCard(data) {\r\n    api.addNewCard(data)\r\n      .then((res) => {\r\n        setCards([res, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  // 12 СПРИНТ\r\n\r\n  function handleLogin(data) {\r\n    auth.login(data.email, data.password)\r\n      .then((newData) => {\r\n        if (newData.token) {\r\n          setEmail(data.email);\r\n          setLoggedIn(true);\r\n          history.push('/');\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  function handleRegister(data) {\r\n    if (data.email !== '' && data.password !== '') {\r\n      auth.register(data.email, data.password).then((res) => {\r\n        if (res.statusCode !== 400) {\r\n          history.push('/sign-in');\r\n          setStatusInfoToolTip(true);\r\n          setTextInfoToolTip('Вы успешно зарегестрировались!');\r\n        }\r\n      })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          setStatusInfoToolTip(false);\r\n          setTextInfoToolTip('Что-то пошло не так! Попробуйте ещё раз.');\r\n        })\r\n      handleInfoToolTipClick();\r\n    }\r\n    else {\r\n      setStatusInfoToolTip(false);\r\n      setTextInfoToolTip('Что-то пошло не так! Попробуйте ещё раз.');\r\n      handleInfoToolTipClick();\r\n    }\r\n  }\r\n\r\n  function checkLogin() {\r\n    if (localStorage.getItem('jwt')) {\r\n      const jwt = localStorage.getItem('jwt');\r\n      auth.checkToken(jwt).then((res) => {\r\n        if (res) {\r\n          setLoggedIn(true);\r\n          setEmail(res.data.email);\r\n          history.push('/');\r\n        }\r\n      })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        })\r\n    }\r\n  }\r\n  // Обработчик события \"Выйти из профиля\"\r\n  function handleSignOut() {\r\n    localStorage.removeItem('jwt');\r\n    setLoggedIn(false);\r\n    setButtonBurger(false);\r\n    history.push('/sign-in');\r\n  }\r\n  // Обработчик модального окна при регистрации\r\n  function handleInfoToolTipClick() {\r\n    setIsInfoToolTipOpen(true);\r\n  }\r\n  // Обработчик свернуть/развернуть бургер меню в мобильной версии\r\n  function handleButtonBurgerClick() {\r\n    if (!buttonBurger) {\r\n      setButtonBurger(true);\r\n    }\r\n    else {\r\n      setButtonBurger(false);\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <div className=\"container\">\r\n\r\n          <Header email={email} onSignOut={handleSignOut}\r\n            isOpen={buttonBurger}\r\n            onButtonBurgerClick={handleButtonBurgerClick} />\r\n          <Switch>\r\n            <Route path='/sign-in'>\r\n              <Login signIn={handleLogin} />\r\n            </Route>\r\n            <Route path='/sign-up'>\r\n              <Register registration={handleRegister} />\r\n            </Route>\r\n            <ProtectedRoute exact path='/'\r\n              component={Main}\r\n              loggedIn={loggedIn}\r\n              onEditAvatar={handleEditAvatarClick}\r\n              onEditProfile={handleEditProfileClick}\r\n              onAddPlace={handleAddPlaceClick}\r\n              onCardClick={handleCardClick}\r\n              cards={cards}\r\n              onCardLike={handleCardLike}\r\n              onCardDelete={handleDeleteCardClick}\r\n            />\r\n          </Switch>\r\n          <Footer />\r\n          <EditProfilePopup isOpen={isEditProfilePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateUser={handleUpdateUser} />\r\n\r\n          <AddPlacePopup\r\n            isOpen={isAddPlacePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onAddPlace={handleAddCard} />\r\n\r\n          <DeleteCardPopup\r\n            card={selectedCard}\r\n            isOpen={isDeleteCardPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onDeleteCard={handleCardDelete}\r\n          />\r\n\r\n          <ImagePopup card={selectedCard}\r\n            onClose={closeAllPopups} />\r\n\r\n          <EditAvatarPopup isOpen={isEditAvatarPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateAvatar={handleUpdateAvatar} />\r\n\r\n          <InfoToolTip isOpen={isInfoToolTipOpen}\r\n            onClose={closeAllPopups}\r\n            text={textInfoToolTip}\r\n            status={statusInfoToolTip} />\r\n        </div>\r\n      </div>\r\n\r\n\r\n    </CurrentUserContext.Provider>\r\n\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { HashRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <HashRouter basename=\"/react-mesto-auth\">\r\n      <App />\r\n    </HashRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}